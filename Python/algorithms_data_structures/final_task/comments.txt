Я добавил вместо готовой сортировки weights.sort() пузырьковой сортировку, она правда  имеет временную сложность O(n²), но мне нравится название, ещё с института :)
Больше ничего не менял